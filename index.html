<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Text Analyzer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 900px;
            width: 100%;
            padding: 40px;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 2em;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 0.95em;
        }

        .input-section {
            margin-bottom: 30px;
        }

        textarea {
            width: 100%;
            min-height: 200px;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            font-family: inherit;
            resize: vertical;
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .toolbar {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #333;
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .advanced-stats {
            background: #f9f9f9;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .advanced-stats h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .stat-row:last-child {
            border-bottom: none;
        }

        .stat-row-label {
            color: #666;
            font-weight: 500;
        }

        .stat-row-value {
            color: #667eea;
            font-weight: bold;
        }

        .word-cloud {
            background: #f9f9f9;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .word-cloud h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .word-item {
            display: inline-block;
            margin: 5px;
            padding: 8px 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 20px;
            font-size: 14px;
        }

        .progress-bar {
            background: #e0e0e0;
            height: 8px;
            border-radius: 10px;
            margin-top: 10px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            transition: width 0.3s;
            border-radius: 10px;
        }

        .reading-time {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.1em;
            margin-bottom: 20px;
        }

        .toggle-section {
            margin-top: 20px;
        }

        .toggle-btn {
            background: none;
            border: none;
            color: #667eea;
            cursor: pointer;
            font-size: 14px;
            text-decoration: underline;
            padding: 5px 0;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 1.5em;
            }

            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>üìù Advanced Text Analyzer</h1>
    <p class="subtitle">Comprehensive text statistics and analysis tool</p>

    <div class="input-section">
        <textarea id="textInput" placeholder="Start typing or paste your text here..."></textarea>
        
        <div class="toolbar">
            <button class="btn btn-primary" onclick="analyzeText()">üîç Analyze Text</button>
            <button class="btn btn-secondary" onclick="clearText()">üóëÔ∏è Clear</button>
            <button class="btn btn-secondary" onclick="copyStats()">üìã Copy Stats</button>
            <button class="btn btn-secondary" onclick="exportText()">üíæ Export</button>
            <button class="btn btn-secondary" onclick="toggleCase()">üîÑ Toggle Case</button>
        </div>
    </div>

    <div id="results">
        <!-- Basic Stats Grid -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value" id="charCount">0</div>
                <div class="stat-label">Characters</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="charNoSpace">0</div>
                <div class="stat-label">Without Spaces</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="wordCount">0</div>
                <div class="stat-label">Words</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="sentenceCount">0</div>
                <div class="stat-label">Sentences</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="paragraphCount">0</div>
                <div class="stat-label">Paragraphs</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="lineCount">0</div>
                <div class="stat-label">Lines</div>
            </div>
        </div>

        <!-- Reading Time -->
        <div class="reading-time">
            ‚è±Ô∏è Estimated Reading Time: <strong id="readingTime">0 seconds</strong>
        </div>

        <!-- Advanced Statistics -->
        <div class="advanced-stats">
            <h3>üìä Detailed Analysis</h3>
            <div class="stat-row">
                <span class="stat-row-label">Average Word Length</span>
                <span class="stat-row-value" id="avgWordLength">0</span>
            </div>
            <div class="stat-row">
                <span class="stat-row-label">Longest Word</span>
                <span class="stat-row-value" id="longestWord">-</span>
            </div>
            <div class="stat-row">
                <span class="stat-row-label">Average Sentence Length</span>
                <span class="stat-row-value" id="avgSentenceLength">0 words</span>
            </div>
            <div class="stat-row">
                <span class="stat-row-label">Unique Words</span>
                <span class="stat-row-value" id="uniqueWords">0</span>
            </div>
            <div class="stat-row">
                <span class="stat-row-label">Letter Count</span>
                <span class="stat-row-value" id="letterCount">0</span>
            </div>
            <div class="stat-row">
                <span class="stat-row-label">Number Count</span>
                <span class="stat-row-value" id="numberCount">0</span>
            </div>
            <div class="stat-row">
                <span class="stat-row-label">Special Characters</span>
                <span class="stat-row-value" id="specialCount">0</span>
            </div>
        </div>

        <!-- Character Distribution -->
        <div class="advanced-stats">
            <h3>üî§ Character Distribution</h3>
            <div class="stat-row">
                <span class="stat-row-label">Uppercase Letters</span>
                <span class="stat-row-value" id="upperCount">0</span>
            </div>
            <div class="stat-row">
                <span class="stat-row-label">Lowercase Letters</span>
                <span class="stat-row-value" id="lowerCount">0</span>
            </div>
            <div class="stat-row">
                <span class="stat-row-label">Spaces</span>
                <span class="stat-row-value" id="spaceCount">0</span>
            </div>
            <div class="stat-row">
                <span class="stat-row-label">Punctuation Marks</span>
                <span class="stat-row-value" id="punctCount">0</span>
            </div>
        </div>

        <!-- Top Words -->
        <div class="word-cloud" id="wordCloudSection">
            <h3>üèÜ Most Common Words</h3>
            <div id="topWords">
                <p style="color: #999;">Type some text to see the most common words...</p>
            </div>
        </div>
    </div>
</div>

<script>
let caseState = 'normal'; // normal, upper, lower

// Real-time analysis on input
document.getElementById('textInput').addEventListener('input', analyzeText);

function analyzeText() {
    const text = document.getElementById('textInput').value;
    
    // Basic counts
    const charCount = text.length;
    const charNoSpace = text.replace(/\s/g, '').length;
    const spaceCount = (text.match(/\s/g) || []).length;
    
    // Word count (split by whitespace, filter empty)
    const words = text.trim().split(/\s+/).filter(word => word.length > 0);
    const wordCount = text.trim() === '' ? 0 : words.length;
    
    // Sentence count (split by .!?)
    const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
    const sentenceCount = sentences.length;
    
    // Paragraph count (split by double newline or single newline)
    const paragraphs = text.split(/\n+/).filter(p => p.trim().length > 0);
    const paragraphCount = paragraphs.length;
    
    // Line count
    const lines = text.split('\n');
    const lineCount = lines.length;
    
    // Character type counts
    const upperCount = (text.match(/[A-Z]/g) || []).length;
    const lowerCount = (text.match(/[a-z]/g) || []).length;
    const letterCount = upperCount + lowerCount;
    const numberCount = (text.match(/[0-9]/g) || []).length;
    const punctCount = (text.match(/[.,!?;:'"]/g) || []).length;
    const specialCount = charCount - letterCount - numberCount - spaceCount - punctCount;
    
    // Average word length
    const totalWordLength = words.reduce((sum, word) => sum + word.length, 0);
    const avgWordLength = wordCount > 0 ? (totalWordLength / wordCount).toFixed(2) : 0;
    
    // Longest word
    const longestWord = words.reduce((longest, word) => 
        word.length > longest.length ? word : longest, '');
    
    // Average sentence length
    const avgSentenceLength = sentenceCount > 0 ? Math.round(wordCount / sentenceCount) : 0;
    
    // Unique words
    const uniqueWords = new Set(words.map(w => w.toLowerCase())).size;
    
    // Reading time (average reading speed: 200 words per minute)
    const readingMinutes = wordCount / 200;
    let readingTime;
    if (readingMinutes < 1) {
        readingTime = Math.ceil(readingMinutes * 60) + ' seconds';
    } else if (readingMinutes < 60) {
        const mins = Math.floor(readingMinutes);
        const secs = Math.round((readingMinutes - mins) * 60);
        readingTime = secs > 0 ? `${mins} min ${secs} sec` : `${mins} min`;
    } else {
        const hours = Math.floor(readingMinutes / 60);
        const mins = Math.round(readingMinutes % 60);
        readingTime = `${hours} hr ${mins} min`;
    }
    
    // Update basic stats
    document.getElementById('charCount').textContent = charCount;
    document.getElementById('charNoSpace').textContent = charNoSpace;
    document.getElementById('wordCount').textContent = wordCount;
    document.getElementById('sentenceCount').textContent = sentenceCount;
    document.getElementById('paragraphCount').textContent = paragraphCount;
    document.getElementById('lineCount').textContent = lineCount;
    
    // Update reading time
    document.getElementById('readingTime').textContent = readingTime;
    
    // Update detailed analysis
    document.getElementById('avgWordLength').textContent = avgWordLength + ' chars';
    document.getElementById('longestWord').textContent = longestWord || '-';
    document.getElementById('avgSentenceLength').textContent = avgSentenceLength + ' words';
    document.getElementById('uniqueWords').textContent = uniqueWords;
    document.getElementById('letterCount').textContent = letterCount;
    document.getElementById('numberCount').textContent = numberCount;
    document.getElementById('specialCount').textContent = specialCount;
    
    // Update character distribution
    document.getElementById('upperCount').textContent = upperCount;
    document.getElementById('lowerCount').textContent = lowerCount;
    document.getElementById('spaceCount').textContent = spaceCount;
    document.getElementById('punctCount').textContent = punctCount;
    
    // Update top words
    updateTopWords(words);
}

function updateTopWords(words) {
    const topWordsDiv = document.getElementById('topWords');
    
    if (words.length === 0) {
        topWordsDiv.innerHTML = '<p style="color: #999;">Type some text to see the most common words...</p>';
        return;
    }
    
    // Count word frequency (case-insensitive, filter out short words)
    const wordFreq = {};
    words.forEach(word => {
        const lower = word.toLowerCase().replace(/[^\w]/g, '');
        if (lower.length > 2) { // Only words with 3+ characters
            wordFreq[lower] = (wordFreq[lower] || 0) + 1;
        }
    });
    
    // Sort by frequency and get top 10
    const sortedWords = Object.entries(wordFreq)
        .sort((a, b) => b[1] - a[1])
        .slice(0, 10);
    
    if (sortedWords.length === 0) {
        topWordsDiv.innerHTML = '<p style="color: #999;">No words with 3+ characters found...</p>';
        return;
    }
    
    // Display as word cloud
    topWordsDiv.innerHTML = sortedWords
        .map(([word, count]) => `<span class="word-item">${word} (${count})</span>`)
        .join('');
}

function clearText() {
    document.getElementById('textInput').value = '';
    caseState = 'normal';
    analyzeText();
}

function copyStats() {
    const text = document.getElementById('textInput').value;
    const stats = `
Text Statistics:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Characters: ${document.getElementById('charCount').textContent}
Characters (no spaces): ${document.getElementById('charNoSpace').textContent}
Words: ${document.getElementById('wordCount').textContent}
Sentences: ${document.getElementById('sentenceCount').textContent}
Paragraphs: ${document.getElementById('paragraphCount').textContent}
Lines: ${document.getElementById('lineCount').textContent}
Reading Time: ${document.getElementById('readingTime').textContent}

Detailed Analysis:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Average Word Length: ${document.getElementById('avgWordLength').textContent}
Longest Word: ${document.getElementById('longestWord').textContent}
Unique Words: ${document.getElementById('uniqueWords').textContent}
`;
    
    navigator.clipboard.writeText(stats).then(() => {
        alert('‚úÖ Statistics copied to clipboard!');
    }).catch(err => {
        alert('‚ùå Failed to copy statistics');
    });
}

function exportText() {
    const text = document.getElementById('textInput').value;
    const blob = new Blob([text], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'text-analysis-' + new Date().toISOString().slice(0, 10) + '.txt';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
}

function toggleCase() {
    const textarea = document.getElementById('textInput');
    let text = textarea.value;
    
    if (caseState === 'normal') {
        textarea.value = text.toUpperCase();
        caseState = 'upper';
    } else if (caseState === 'upper') {
        textarea.value = text.toLowerCase();
        caseState = 'lower';
    } else {
        // Toggle to title case
        textarea.value = text.replace(/\w\S*/g, function(txt) {
            return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
        });
        caseState = 'normal';
    }
    
    analyzeText();
}

// Initial analysis
analyzeText();
</script>

</body>
</html>