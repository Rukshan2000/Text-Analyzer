<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TextLens — Advanced Analyzer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@300;400;500&family=Instrument+Serif:ital@0;1&family=Syne:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0a0a0b;
            --surface: #111113;
            --surface-2: #161618;
            --surface-3: #1c1c1f;
            --border: #222226;
            --border-hover: #333338;
            --text: #e8e8ea;
            --text-muted: #666672;
            --text-dim: #3a3a44;
            --accent: #e2ff5a;
            --accent-dim: rgba(226, 255, 90, 0.07);
            --accent-dim-hover: rgba(226, 255, 90, 0.13);
            --accent-border: rgba(226, 255, 90, 0.18);
            --mono: 'DM Mono', monospace;
            --sans: 'Syne', sans-serif;
            --serif: 'Instrument Serif', serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: var(--sans);
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
        }

        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.035'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 9999;
        }

        .layout {
            display: grid;
            grid-template-rows: 56px 1fr;
            grid-template-columns: 1fr 320px;
            height: 100vh;
            overflow: hidden;
        }

        header {
            grid-column: 1 / -1;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 32px;
            border-bottom: 1px solid var(--border);
            background: var(--bg);
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .brand-name {
            font-family: var(--serif);
            font-style: italic;
            font-size: 1.25rem;
            letter-spacing: -0.01em;
        }

        .brand-dot {
            width: 5px; height: 5px;
            border-radius: 50%;
            background: var(--accent);
        }

        .brand-tag {
            font-family: var(--mono);
            font-size: 0.6rem;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            color: var(--text-muted);
        }

        .header-right { display: flex; gap: 6px; align-items: center; }

        .btn {
            font-family: var(--mono);
            font-size: 0.7rem;
            letter-spacing: 0.05em;
            padding: 7px 14px;
            border-radius: 3px;
            border: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.15s;
            background: transparent;
            color: var(--text-muted);
            white-space: nowrap;
        }

        .btn:hover { border-color: var(--border-hover); color: var(--text); background: var(--surface-2); }

        .btn-accent {
            background: var(--accent);
            color: #0a0a0b;
            border-color: var(--accent);
            font-weight: 500;
        }

        .btn-accent:hover { background: #ecff80; border-color: #ecff80; color: #0a0a0b; }

        .editor-pane {
            padding: 28px 32px;
            display: flex;
            flex-direction: column;
            gap: 14px;
            border-right: 1px solid var(--border);
            overflow: hidden;
        }

        .pane-label {
            font-family: var(--mono);
            font-size: 0.6rem;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--text-dim);
        }

        .editor-wrapper { position: relative; flex: 1; }

        textarea {
            width: 100%;
            height: 100%;
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 4px;
            color: var(--text);
            font-family: var(--mono);
            font-size: 0.875rem;
            line-height: 1.9;
            padding: 20px;
            resize: none;
            transition: border-color 0.2s;
            caret-color: var(--accent);
        }

        textarea::placeholder { color: var(--text-dim); font-style: italic; }
        textarea:focus { outline: none; border-color: var(--border-hover); }

        .editor-counter {
            position: absolute;
            bottom: 12px; right: 14px;
            font-family: var(--mono);
            font-size: 0.65rem;
            color: var(--text-dim);
        }

        .toolbar { display: flex; gap: 6px; flex-wrap: wrap; align-items: center; }

        .toolbar-sep { width: 1px; height: 22px; background: var(--border); margin: 0 4px; }

        .gen-input {
            font-family: var(--mono);
            font-size: 0.7rem;
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 3px;
            color: var(--text);
            padding: 7px 12px;
            width: 120px;
            transition: border-color 0.15s;
        }

        .gen-input::placeholder { color: var(--text-dim); }
        .gen-input:focus { outline: none; border-color: var(--border-hover); }

        select.gen-input {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='%23666672'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 8px center;
            background-size: 16px;
            padding-right: 32px;
        }

        /* Stats pane */
        .stats-pane {
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--border) transparent;
        }

        .stats-pane::-webkit-scrollbar { width: 3px; }
        .stats-pane::-webkit-scrollbar-thumb { background: var(--border); }

        .reading-hero {
            padding: 24px 24px 20px;
            border-bottom: 1px solid var(--border);
            background: var(--surface);
            flex-shrink: 0;
        }

        .reading-hero-eyebrow {
            font-family: var(--mono);
            font-size: 0.58rem;
            letter-spacing: 0.18em;
            text-transform: uppercase;
            color: var(--text-dim);
            margin-bottom: 6px;
        }

        .reading-hero-val {
            font-family: var(--serif);
            font-style: italic;
            font-size: 2.6rem;
            color: var(--accent);
            line-height: 1;
            letter-spacing: -0.02em;
        }

        .reading-hero-note {
            font-family: var(--mono);
            font-size: 0.6rem;
            color: var(--text-dim);
            margin-top: 5px;
        }

        .stats-section {
            padding: 18px 24px;
            border-bottom: 1px solid var(--border);
        }

        .stats-section:last-child { border-bottom: none; }

        .section-title {
            font-family: var(--mono);
            font-size: 0.58rem;
            letter-spacing: 0.16em;
            text-transform: uppercase;
            color: var(--text-dim);
            margin-bottom: 12px;
        }

        .primary-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2px;
        }

        .metric-card {
            background: var(--surface-2);
            padding: 12px 14px;
            transition: background 0.12s;
        }

        .metric-card:hover { background: var(--surface-3); }
        .metric-card:nth-child(1) { border-radius: 3px 0 0 0; }
        .metric-card:nth-child(2) { border-radius: 0 3px 0 0; }
        .metric-card:nth-last-child(2) { border-radius: 0 0 0 3px; }
        .metric-card:last-child { border-radius: 0 0 3px 0; }

        .metric-val {
            font-family: var(--mono);
            font-size: 1.45rem;
            font-weight: 500;
            color: var(--text);
            line-height: 1;
            margin-bottom: 4px;
            letter-spacing: -0.02em;
        }

        .metric-lbl {
            font-family: var(--mono);
            font-size: 0.57rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--text-dim);
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 7px 0;
            border-bottom: 1px solid var(--border);
        }

        .stat-row:last-child { border-bottom: none; }

        .stat-row-k {
            font-family: var(--mono);
            font-size: 0.68rem;
            color: var(--text-muted);
        }

        .stat-row-v {
            font-family: var(--mono);
            font-size: 0.68rem;
            color: var(--text);
            max-width: 110px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            text-align: right;
        }

        .stat-row-v.hi { color: var(--accent); }

        .word-chips { display: flex; flex-wrap: wrap; gap: 5px; }

        .chip {
            font-family: var(--mono);
            font-size: 0.65rem;
            padding: 4px 9px;
            background: var(--accent-dim);
            color: var(--accent);
            border: 1px solid var(--accent-border);
            border-radius: 2px;
            transition: background 0.12s;
        }

        .chip:hover { background: var(--accent-dim-hover); }
        .chip-n { color: rgba(226,255,90,0.38); margin-left: 3px; }

        .empty {
            font-family: var(--mono);
            font-size: 0.68rem;
            color: var(--text-dim);
            font-style: italic;
        }

        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(8px);
            background: var(--surface-3);
            border: 1px solid var(--border-hover);
            padding: 10px 20px;
            border-radius: 3px;
            font-family: var(--mono);
            font-size: 0.72rem;
            color: var(--text);
            opacity: 0;
            transition: all 0.22s;
            pointer-events: none;
            z-index: 10000;
        }

        .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

        @media (max-width: 800px) {
            .layout { grid-template-columns: 1fr; grid-template-rows: 56px auto auto; height: auto; overflow: visible; }
            .editor-pane { height: 60vh; border-right: none; border-bottom: 1px solid var(--border); }
            .stats-pane { overflow-y: visible; }
        }
    </style>
</head>
<body>
<div class="layout">

    <header>
        <div class="brand">
            <span class="brand-name">TextLens</span>
            <div class="brand-dot"></div>
            <span class="brand-tag">Analyzer</span>
        </div>
        <div class="header-right">
            <button class="btn" onclick="copyStats()">Copy stats</button>
            <button class="btn" onclick="exportText()">Export</button>
        </div>
    </header>

    <div class="editor-pane">
        <span class="pane-label">Input</span>
        <div class="editor-wrapper">
            <textarea id="textInput" placeholder="Paste or type your text here…"></textarea>
            <span class="editor-counter" id="charTicker">0 chars</span>
        </div>
        <div class="toolbar">
            <button class="btn btn-accent" onclick="analyzeText()">Analyze</button>
            <button class="btn" onclick="toggleCase()">Toggle case</button>
            <button class="btn" onclick="clearText()">Clear</button>
            <div class="toolbar-sep"></div>
            <input class="gen-input" type="number" id="charCountInput" placeholder="Char count…" min="1">
            <select class="gen-input" id="genMode">
                <option value="text">Text only</option>
                <option value="numbers">Numbers only</option>
                <option value="mixed">Text + Numbers</option>
            </select>
            <select class="gen-input" id="genCase">
                <option value="sentence">Sentence case</option>
                <option value="lowercase">lowercase</option>
                <option value="uppercase">UPPERCASE</option>
                <option value="title">Title Case</option>
                <option value="simple">Simple</option>
            </select>
            <button class="btn" onclick="generateRandom()">Generate</button>
        </div>
    </div>

    <div class="stats-pane">

        <div class="reading-hero">
            <div class="reading-hero-eyebrow">Reading time</div>
            <div class="reading-hero-val" id="readingTime">—</div>
            <div class="reading-hero-note">@ 200 wpm average</div>
        </div>

        <div class="stats-section">
            <div class="section-title">Core</div>
            <div class="primary-grid">
                <div class="metric-card">
                    <div class="metric-val" id="wordCount">0</div>
                    <div class="metric-lbl">Words</div>
                </div>
                <div class="metric-card">
                    <div class="metric-val" id="charCount">0</div>
                    <div class="metric-lbl">Chars</div>
                </div>
                <div class="metric-card">
                    <div class="metric-val" id="sentenceCount">0</div>
                    <div class="metric-lbl">Sentences</div>
                </div>
                <div class="metric-card">
                    <div class="metric-val" id="paragraphCount">0</div>
                    <div class="metric-lbl">Paragraphs</div>
                </div>
                <div class="metric-card">
                    <div class="metric-val" id="uniqueWords">0</div>
                    <div class="metric-lbl">Unique</div>
                </div>
                <div class="metric-card">
                    <div class="metric-val" id="lineCount">0</div>
                    <div class="metric-lbl">Lines</div>
                </div>
            </div>
        </div>

        <div class="stats-section">
            <div class="section-title">Analysis</div>
            <div class="stat-row">
                <span class="stat-row-k">Chars (no spaces)</span>
                <span class="stat-row-v" id="charNoSpace">0</span>
            </div>
            <div class="stat-row">
                <span class="stat-row-k">Avg word length</span>
                <span class="stat-row-v hi" id="avgWordLength">—</span>
            </div>
            <div class="stat-row">
                <span class="stat-row-k">Avg sentence</span>
                <span class="stat-row-v" id="avgSentenceLength">—</span>
            </div>
            <div class="stat-row">
                <span class="stat-row-k">Longest word</span>
                <span class="stat-row-v" id="longestWord">—</span>
            </div>
        </div>

        <div class="stats-section">
            <div class="section-title">Characters</div>
            <div class="stat-row">
                <span class="stat-row-k">Letters</span>
                <span class="stat-row-v" id="letterCount">0</span>
            </div>
            <div class="stat-row">
                <span class="stat-row-k">Uppercase</span>
                <span class="stat-row-v" id="upperCount">0</span>
            </div>
            <div class="stat-row">
                <span class="stat-row-k">Lowercase</span>
                <span class="stat-row-v" id="lowerCount">0</span>
            </div>
            <div class="stat-row">
                <span class="stat-row-k">Numbers</span>
                <span class="stat-row-v" id="numberCount">0</span>
            </div>
            <div class="stat-row">
                <span class="stat-row-k">Punctuation</span>
                <span class="stat-row-v" id="punctCount">0</span>
            </div>
            <div class="stat-row">
                <span class="stat-row-k">Special chars</span>
                <span class="stat-row-v" id="specialCount">0</span>
            </div>
            <div class="stat-row">
                <span class="stat-row-k">Spaces</span>
                <span class="stat-row-v" id="spaceCount">0</span>
            </div>
        </div>

        <div class="stats-section">
            <div class="section-title">Top words</div>
            <div class="word-chips" id="topWords">
                <span class="empty">No text yet</span>
            </div>
        </div>

    </div>
</div>

<div class="toast" id="toast"></div>

<script>
let caseState = 'normal';
document.getElementById('textInput').addEventListener('input', analyzeText);

function toast(msg) {
    const t = document.getElementById('toast');
    t.textContent = msg;
    t.classList.add('show');
    setTimeout(() => t.classList.remove('show'), 1800);
}

function fmt(n) { return Number(n).toLocaleString(); }

function analyzeText() {
    const text = document.getElementById('textInput').value;
    const charCount = text.length;
    document.getElementById('charTicker').textContent = fmt(charCount) + ' chars';

    const charNoSpace = text.replace(/\s/g,'').length;
    const spaceCount = (text.match(/\s/g)||[]).length;
    const words = text.trim().split(/\s+/).filter(w=>w.length>0);
    const wordCount = text.trim()==='' ? 0 : words.length;
    const sentences = text.split(/[.!?]+/).filter(s=>s.trim().length>0);
    const sentenceCount = sentences.length;
    const paragraphs = text.split(/\n+/).filter(p=>p.trim().length>0);
    const paragraphCount = paragraphs.length;
    const lineCount = text.split('\n').length;
    const upperCount = (text.match(/[A-Z]/g)||[]).length;
    const lowerCount = (text.match(/[a-z]/g)||[]).length;
    const letterCount = upperCount + lowerCount;
    const numberCount = (text.match(/[0-9]/g)||[]).length;
    const punctCount = (text.match(/[.,!?;:'"()\-–—]/g)||[]).length;
    const specialCount = Math.max(0, charCount - letterCount - numberCount - spaceCount - punctCount);
    const totalWordLen = words.reduce((s,w)=>s+w.replace(/[^\w]/g,'').length, 0);
    const avgWordLength = wordCount > 0 ? (totalWordLen/wordCount).toFixed(1) : null;
    const longestWord = words.reduce((l,w)=>w.length>l.length?w:l,'');
    const avgSentenceLength = sentenceCount>0 ? Math.round(wordCount/sentenceCount) : null;
    const uniqueWords = new Set(words.map(w=>w.toLowerCase().replace(/[^\w]/g,''))).size;

    const rm = wordCount/200;
    let readingTime = '—';
    if (wordCount > 0) {
        if (rm < 1) readingTime = Math.max(1, Math.ceil(rm*60))+'s';
        else if (rm < 60) { const m=Math.floor(rm),s=Math.round((rm-m)*60); readingTime = s>0?`${m}m ${s}s`:`${m}m`; }
        else { const h=Math.floor(rm/60),m=Math.round(rm%60); readingTime=`${h}h ${m}m`; }
    }

    document.getElementById('charCount').textContent = fmt(charCount);
    document.getElementById('charNoSpace').textContent = fmt(charNoSpace);
    document.getElementById('wordCount').textContent = fmt(wordCount);
    document.getElementById('sentenceCount').textContent = fmt(sentenceCount);
    document.getElementById('paragraphCount').textContent = fmt(paragraphCount);
    document.getElementById('lineCount').textContent = fmt(lineCount);
    document.getElementById('readingTime').textContent = readingTime;
    document.getElementById('avgWordLength').textContent = avgWordLength ? avgWordLength+' ch' : '—';
    document.getElementById('longestWord').textContent = longestWord || '—';
    document.getElementById('avgSentenceLength').textContent = avgSentenceLength ? avgSentenceLength+' wds' : '—';
    document.getElementById('uniqueWords').textContent = fmt(uniqueWords);
    document.getElementById('letterCount').textContent = fmt(letterCount);
    document.getElementById('upperCount').textContent = fmt(upperCount);
    document.getElementById('lowerCount').textContent = fmt(lowerCount);
    document.getElementById('numberCount').textContent = fmt(numberCount);
    document.getElementById('punctCount').textContent = fmt(punctCount);
    document.getElementById('specialCount').textContent = fmt(specialCount);
    document.getElementById('spaceCount').textContent = fmt(spaceCount);

    updateTopWords(words);
}

function updateTopWords(words) {
    const el = document.getElementById('topWords');
    if (!words.length) { el.innerHTML = '<span class="empty">No text yet</span>'; return; }
    const freq = {};
    words.forEach(w => { const c=w.toLowerCase().replace(/[^\w]/g,''); if(c.length>2) freq[c]=(freq[c]||0)+1; });
    const sorted = Object.entries(freq).sort((a,b)=>b[1]-a[1]).slice(0,12);
    if (!sorted.length) { el.innerHTML = '<span class="empty">No qualifying words</span>'; return; }
    el.innerHTML = sorted.map(([w,c])=>`<span class="chip">${w}<span class="chip-n">${c}</span></span>`).join('');
}

function clearText() {
    document.getElementById('textInput').value = '';
    caseState = 'normal';
    analyzeText();
    toast('Cleared');
}

function copyStats() {
    const s = `TextLens — Text Analysis\n─────────────────────────\nWords:            ${document.getElementById('wordCount').textContent}\nCharacters:       ${document.getElementById('charCount').textContent}\nSentences:        ${document.getElementById('sentenceCount').textContent}\nParagraphs:       ${document.getElementById('paragraphCount').textContent}\nUnique words:     ${document.getElementById('uniqueWords').textContent}\nReading time:     ${document.getElementById('readingTime').textContent}\nAvg word length:  ${document.getElementById('avgWordLength').textContent}\nLongest word:     ${document.getElementById('longestWord').textContent}`;
    navigator.clipboard.writeText(s).then(()=>toast('Stats copied')).catch(()=>toast('Copy failed'));
}

function exportText() {
    const text = document.getElementById('textInput').value;
    if (!text) { toast('Nothing to export'); return; }
    const blob = new Blob([text],{type:'text/plain'});
    const url = URL.createObjectURL(blob);
    const a = Object.assign(document.createElement('a'),{href:url,download:'text-'+new Date().toISOString().slice(0,10)+'.txt'});
    document.body.appendChild(a); a.click(); document.body.removeChild(a);
    URL.revokeObjectURL(url);
    toast('Exported');
}

function toggleCase() {
    const ta = document.getElementById('textInput');
    if (!ta.value) return;
    if (caseState==='normal') { ta.value=ta.value.toUpperCase(); caseState='upper'; toast('UPPERCASE'); }
    else if (caseState==='upper') { ta.value=ta.value.toLowerCase(); caseState='lower'; toast('lowercase'); }
    else { ta.value=ta.value.replace(/\w\S*/g,t=>t[0].toUpperCase()+t.slice(1).toLowerCase()); caseState='normal'; toast('Title Case'); }
    analyzeText();
}

function generateRandom() {
    let count = parseInt(document.getElementById('charCountInput').value);
    if (!count || count <= 0) count = parseInt(document.getElementById('charCount').textContent.replace(/,/g,''));
    if (!count || isNaN(count) || count <= 0) { toast('Enter a char count'); return; }

    const mode = document.getElementById('genMode').value;
    const caseMode = document.getElementById('genCase').value;
    
    let text = '';
    
    if (mode === 'numbers') {
        text = generateNumbers(count);
    } else if (mode === 'mixed') {
        text = generateMixed(count);
    } else {
        text = generateText(count); // text only (default)
    }
    
    text = applyCaseMode(text, caseMode);
    
    document.getElementById('textInput').value = text;
    caseState = 'normal';
    analyzeText();
    toast('Generated '+fmt(count)+' chars (' + mode + ', ' + caseMode + ')');
}

function generateNumbers(count) {
    let result = '';
    while (result.length < count) {
        const segmentLen = Math.floor(Math.random() * 8) + 3;
        let segment = '';
        for (let i = 0; i < segmentLen; i++) {
            segment += Math.floor(Math.random() * 10);
        }
        if (result.length > 0) result += ' ';
        result += segment;
    }
    return result.slice(0, count);
}

function generateMixed(count) {
    const vowels = 'aeiou';
    const consonants = 'bcdfghjklmnpqrstvwxyz';
    const numbers = '0123456789';
    const wordList = [];
    let chars = 0;
    
    while (chars < count) {
        if (Math.random() < 0.15) {
            // Generate a number
            const numLen = Math.floor(Math.random() * 4) + 2;
            let num = '';
            for (let i = 0; i < numLen; i++) {
                num += numbers[Math.floor(Math.random() * numbers.length)];
            }
            wordList.push(num);
            chars += num.length + 1;
        } else {
            // Generate a word
            const wlen = Math.floor(Math.random() * 7) + 2;
            let w = '';
            for (let i = 0; i < wlen; i++) {
                w += i % 2 === 0 ? consonants[Math.floor(Math.random() * consonants.length)] : vowels[Math.floor(Math.random() * vowels.length)];
            }
            wordList.push(w);
            chars += w.length + 1;
        }
        if (chars >= count) break;
    }
    
    return wordList.join(' ').slice(0, count);
}

function generateText(count) {
    const vowels = 'aeiou';
    const consonants = 'bcdfghjklmnpqrstvwxyz';
    const wordList = [];
    let chars = 0;
    
    while (chars < count) {
        const wlen = Math.floor(Math.random() * 7) + 2;
        let w = '';
        for (let i = 0; i < wlen; i++) {
            w += i % 2 === 0 ? consonants[Math.floor(Math.random() * consonants.length)] : vowels[Math.floor(Math.random() * vowels.length)];
        }
        wordList.push(w);
        chars += w.length + 1;
        if (chars >= count) break;
    }
    
    let text = wordList.join(' ').slice(0, count);
    // Add some punctuation
    text = text.replace(/(\w{20,35})\s/g, '$1. ');
    return text;
}

function applyCaseMode(text, caseMode) {
    switch(caseMode) {
        case 'uppercase':
            return text.toUpperCase();
        case 'lowercase':
            return text.toLowerCase();
        case 'title':
            return text.replace(/\w\S*/g, w => w[0].toUpperCase() + w.slice(1).toLowerCase());
        case 'sentence':
            // Capitalize first letter of sentences
            return text.replace(/(^|\.\s+)([a-z])/g, (m, prefix, letter) => prefix + letter.toUpperCase()).replace(/^(.)/, m => m.toUpperCase());
        case 'simple':
            // All lowercase except first character
            return text.charAt(0).toUpperCase() + text.slice(1).toLowerCase();
        default:
            return text;
    }
}

analyzeText();
</script>
</body>
</html>